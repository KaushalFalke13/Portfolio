<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Magnetic Footer Button — Demo</title>
  <style>
    :root{
      --bg:#161617;
      --muted:#2b2b2d;
      --accent:#465bff;
      --accent-dark:#2a43cc;
      --text:#ffffff;
      --pill-border:#333;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter, "Helvetica Neue", Arial, sans-serif}
    a{color:inherit;text-decoration:none}

    .footer-wrapper{width:100%}
    .FooterSection{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      padding:60px 28px;
      position:relative;
    }
    .container{
      width:100%;
      max-width:1260px;
      margin:0 auto;
      position:relative;
      display:flex;
      flex-direction:column;
      gap:32px;
      align-items:flex-start;
    }

    .footer-header{
      display:flex;
      align-items:center;
      gap:24px;
      width:100%;
    }
    .profile-img{
      width:74px;height:74px;border-radius:50%;object-fit:cover;flex-shrink:0;
      box-shadow:0 6px 18px rgba(0,0,0,0.5);border:3px solid rgba(255,255,255,0.04);
    }
    h1.hero-title{
      font-weight:600;margin:0;line-height:0.95;color:var(--text);
      font-size: clamp(48px, 8.6vw, 120px);letter-spacing:-0.02em;max-width:72%;text-align:left;
    }
    .right-arrow{ margin-left:auto;color:#e6e6e6;font-size:20px;opacity:0.9;transform:translateY(-6px) }

    .line-wrap{ position:relative;width:100%;max-width:1260px;margin:60px 0;height:120px; }
    .divider{ position:absolute; left:0; right:0; top:50%; height:1px; background:var(--muted); transform:translateY(-50%); z-index:1; opacity:0.95; }

    /* BUTTON (stationary) */
    .circle-btn{
      position:absolute;
      right:7.5%;
      top:50%;
      transform:translateY(-50%); /* only vertical centering — DO NOT change this on hover */
      z-index:3;
      width:150px;
      height:150px;
      border-radius:50%;
      border:none;
      padding:0;
      background:transparent; /* visual handled by inner layer */
      cursor:pointer;
      overflow:visible;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }

    /* INNER LAYER (moves toward cursor) */
    .circle-inner{
      --tx: 0px; --ty: 0px; --s: 1;
      position:absolute;
      left:50%; top:50%;
      width:100%; height:100%;
      transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(var(--s));
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:none; /* so button still receives mouse events */
      /* wave gradient background */
      background: linear-gradient(to top, var(--accent-dark) 0%, var(--accent) 0%);
      background-size: 100% 200%;
      background-position: top;
      box-shadow: 0 30px 60px rgba(70,91,255,0.15);
      transition: background-position .45s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease, transform .12s ease;
    }

    /* on hover, reveal darker color from bottom and slightly scale inner */
    .circle-btn.hover .circle-inner{
      --s: 1.03;
      background-position: bottom;
      box-shadow: 0 36px 80px rgba(70,91,255,0.22);
    }

    /* text (parallaxed a bit vs inner) */
    .circle-text{
      position:relative;
      z-index:2;
      color:#fff;
      font-weight:700;
      font-size:0.95rem;
      pointer-events:none;
      transform:translate(0,0);
      transition: transform .12s ease;
      text-align:center;
    }

    /* Contact pills */
    .footer-contacts{ display:flex; gap:18px; margin-top:20px; flex-wrap:wrap; align-items:center; }
    .pill-btn{ display:inline-block; padding:12px 26px; border-radius:999px; border:1px solid var(--pill-border); color:var(--text); background:transparent; font-size:0.95rem; transition:background .18s ease, transform .12s;}
    .pill-btn:hover{ background:#101010; transform:translateY(-3px) }

    /* Responsive */
    @media (max-width:1000px){
      .container{max-width:940px}
      .circle-btn{ right:6% }
      h1.hero-title{ max-width:70% }
    }
    @media (max-width:820px){
      .footer-header{ flex-direction:column; gap:16px; align-items:center; text-align:center }
      .profile-img{width:62px;height:62px}
      h1.hero-title{ font-size: clamp(36px, 10vw, 56px); max-width:100% }
      .right-arrow{ position:static; margin-left:0; transform:none; align-self:center; opacity:.8 }
      .line-wrap{ height:120px }
      .divider{ left:8%; right:8% }
      .circle-btn{ position:static; transform:none; margin:40px auto 0; width:120px; height:120px; }
      .circle-inner{ width:100%; height:100%; left:50%; top:50%; transform: translate(-50%,-50%) }
    }
    @media (max-width:420px){
      .circle-btn{ width:100px; height:100px }
      .profile-img{width:54px;height:54px}
      .line-wrap{ height:100px }
      .divider{ left:6%; right:6% }
    }
  </style>
</head>
<body>
  <section class="footer-wrapper">
    <div class="FooterSection">
      <div class="footer-container">
        <div class="footer-header">
          <img class="profile-img" src="https://via.placeholder.com/160" alt="Profile demo">
          <h1 class="hero-title">Let’s work <br> together</h1>
          <div class="right-arrow" aria-hidden="true">↘</div>
        </div>

        <div class="line-wrap" aria-hidden="true">
          <div class="divider"></div>

          <!-- BUTTON: container stays still; inner layer moves -->
          <button class="circle-btn" aria-label="Get in touch">
            <span class="circle-inner" aria-hidden="true">
              <span class="circle-text">Get in touch</span>
            </span>
          </button>
        </div>

        <div class="footer-contacts">
          <a class="pill-btn" href="mailto:info@dennissnellenberg.com">info@dennissnellenberg.com</a>
          <a class="pill-btn" href="tel:+31627847430">+31 6 27 84 74 30</a>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Magnetic inner-layer effect (button container remains stationary)
    (function () {
      const btn = document.querySelector('.circle-btn');
      if (!btn) return;

      const inner = btn.querySelector('.circle-inner');
      const text = btn.querySelector('.circle-text');

      let rect = null;
      let targetX = 0, targetY = 0;
      let currentX = 0, currentY = 0;
      let rafId = null;
      const maxOffset = 18; // px - maximum inner translation

      function updateRect() {
        rect = btn.getBoundingClientRect();
      }

      function onMove(e) {
        if (!rect) updateRect();
        // calculate position relative to center (-1..1)
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;
        const px = Math.max(-1, Math.min(1, x / (rect.width / 2)));
        const py = Math.max(-1, Math.min(1, y / (rect.height / 2)));

        targetX = px * maxOffset;
        targetY = py * maxOffset;

        // ensure hover class for visual hover states
        btn.classList.add('hover');

        if (!rafId) rafId = requestAnimationFrame(render);
      }

      function render() {
        // smoothing
        currentX += (targetX - currentX) * 0.12;
        currentY += (targetY - currentY) * 0.12;

        // set CSS variables consumed by .circle-inner transform
        inner.style.setProperty('--tx', currentX + 'px');
        inner.style.setProperty('--ty', currentY + 'px');

        // small parallax on text (half the movement)
        text.style.transform = `translate(${currentX * 0.45}px, ${currentY * 0.45}px)`;

        // keep rAF loop while not settled
        if (Math.abs(currentX - targetX) > 0.1 || Math.abs(currentY - targetY) > 0.1) {
          rafId = requestAnimationFrame(render);
        } else {
          // settled; stop loop
          rafId = null;
        }
      }

      function onLeave() {
        // return to center
        targetX = 0; targetY = 0;
        btn.classList.remove('hover');
        if (!rafId) rafId = requestAnimationFrame(render);
      }

      // update rect on resize
      window.addEventListener('resize', () => {
        updateRect();
      }, { passive:true });

      // pointer events: use pointer for better touch support
      btn.addEventListener('pointerenter', (e) => {
        updateRect();
      });
      btn.addEventListener('pointermove', onMove);
      btn.addEventListener('pointerleave', onLeave);
      btn.addEventListener('pointercancel', onLeave);



// function footerAnimation() {
//   const tl = gsap.timeline({
//     scrollTrigger: {
//       trigger: ".footer-wrapper",
//       start: "top bottom",
//       end: "bottom top",
//       scrub: 2,
//       markers: true,
//     }
//   });

//   tl.fromTo(
//     ".FooterSection",
//     { y: "20vh" },
//     { y: "-20vh", ease: "none" }
//   );

//   // Circle button moves in at the same time
//   tl.fromTo(
//     ".circle-btn",
//     { x: "-60px" },
//     { x: "0px", ease: "none" },
//     "<" // "<" = start at the same time as previous animation
//   );
// }




      // Touch devices: keep the button static — pointer events will still run but feel different.
    }());
  </script>
</body>
</html>
